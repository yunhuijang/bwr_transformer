import pandas as pd
import json
from GDSS_new.utils.mol_utils import load_smiles

   
zinc_data = {"BRICS-100":{
    "valid": 1,
    "_wandb.runtime": 355,
    "_step": 0,
    "NSPDK": 0.010371304781326751,
    "weight": 65.52359420000002,
    "IntDiv2": 0.8794848267780178,
    "SNN/Test": 0.31562888865470884,
    "Scaf/Test": 0.08399941360733165,
    "_timestamp": 1670232490.062112,
    "logP": 0.35445898600000014,
    "IntDiv": 0.8950284321556091,
    "Filters": 0.4879,
    "Novelty": 0.9990522325189554,
    "_runtime": 356.08274388313293,
    "QED": 0.10132979913811632,
    "Frag/Test": 0.5998737933200291,
    "unique@1000": 0.997,
    "unique@10000": 0.9496,
    "SA": 0.3068264050263158
},
    "BRICS-1000":{
    "NSPDK": 0.003754823541871899,
    "valid": 1,
    "SNN/Test": 0.36487760570198297,
    "_runtime": 407.57506108284,
    "QED": 0.09924143991908768,
    "_step": 0,
    "Filters": 0.5912,
    "FCD/Test": 3.4512091080189577,
    "Frag/Test": 0.9783034872409268,
    "unique@1000": 0.986,
    "SA": 0.2074405657092925,
    "_wandb.runtime": 406,
    "Novelty": 0.9965509039010466,
    "Scaf/Test": 0.17165330520330468,
    "logP": 0.2919053630000002,
    "IntDiv": 0.8781537966314698,
    "weight": 50.34661330000004,
    "IntDiv2": 0.8675348990743026,
    "_timestamp": 1670221876.359004,
    "unique@10000": 0.8408
},    
    "BRICS-100-single": {
    "NSPDK": 0.0035863862729410556,
    "valid": 1,
    "IntDiv": 0.8698825179074097,
    "_wandb.runtime": 410,
    "IntDiv2": 0.8597250416761275,
    "SNN/Test": 0.37893767504394055,
    "unique@10000": 0.975,
    "_step": 0,
    "Filters": 0.6606,
    "Frag/Test": 0.982391870266221,
    "Scaf/Test": 0.24103498565109335,
    "_timestamp": 1670230600.9663749,
    "unique@1000": 0.999,
    "SA": 0.08920756402696342,
    "weight": 44.42275600000003,
    "_runtime": 410.929988861084,
    "QED": 0.0941944660965808,
    "logP": 0.18770952000000013,
    "Novelty": 0.9954871794871796
},
"BRICS-1000-single":{
    "unique@10000": 0.8479,
    "SA": 0.08555562449103071,
    "_wandb.runtime": 396,
    "Novelty": 0.9981129850218188,
    "SNN/Test": 0.370279674898088,
    "Frag/Test": 0.9804449827702052,
    "Scaf/Test": 0.16915897929828383,
    "QED": 0.07925423246980075,
    "NSPDK": 0.0037195861358738647,
    "IntDiv2": 0.861223425570018,
    "_timestamp": 1670230540.5305405,
    "unique@1000": 0.967,
    "_step": 0,
    "IntDiv": 0.8711964351072693,
    "weight": 47.27454360000003,
    "logP": 0.24244059800000028,
    "valid": 1,
    "Filters": 0.6638,
    "_runtime": 397.21021246910095
},
}
qm9_data = {"BRICS-100":{
    "IntDiv": 0.9134922283662414,
    "IntDiv2": 0.8978005121276349,
    "FCD/Test": 2.7350413603115946,
    "SNN/Test": 0.44994193068146704,
    "unique@10000": 0.8612,
    "NSPDK": 0.006449235077765458,
    "_wandb.runtime": 793,
    "Frag/Test": 0.7476063424523569,
    "Scaf/Test": 0.5610218479256895,
    "_timestamp": 1669791386.6822033,
    "SA": 0.14715386044372697,
    "_step": 0,
    "Novelty": 0.9235949837436136,
    "unique@1000": 0.99,
    "QED": 0.04748581619270442,
    "logP": 0.05568200674765218,
    "valid": 1,
    "weight": 24.831230625901245,
    "Filters": 0.5749,
    "_runtime": 794.0016362667084
},
    "BRICS-1000":{
    "unique@1000": 0.939,
    "QED": 0.04564155506054349,
    "valid": 1,
    "weight": 24.72707111996364,
    "Novelty": 0.9312428078250864,
    "SNN/Test": 0.4530451183438301,
    "Frag/Test": 0.7978491973185337,
    "SA": 0.23717875377211903,
    "_runtime": 204.35497736930847,
    "Scaf/Test": 0.5197407942816842,
    "_step": 0,
    "IntDiv": 0.9133826156506348,
    "Filters": 0.5609,
    "_timestamp": 1669886275.5539663,
    "logP": 0.06728936215449863,
    "NSPDK": 0.0063877229518033984,
    "_wandb.runtime": 203,
    "IntDiv2": 0.896939167790716,
    "unique@10000": 0.6952
},
    "BRICS-100-single":{
    "logP": 0.1422646423659497,
    "Filters": 0.5002,
    "Novelty": 0.921165381319623,
    "Frag/Test": 0.741920577103729,
    "Scaf/Test": 0.59043289129065,
    "_timestamp": 1670168733.2851405,
    "QED": 0.05364039181925618,
    "SA": 0.22130718935398488,
    "valid": 1,
    "_wandb.runtime": 209,
    "weight": 25.52163745589216,
    "IntDiv2": 0.8950074680474855,
    "unique@1000": 0.999,
    "NSPDK": 0.007898470641902855,
    "_step": 0,
    "IntDiv": 0.9096225971945192,
    "SNN/Test": 0.44046821300685407,
    "_runtime": 210.2440814971924,
    "unique@10000": 0.9336
},
    "BRICS-1000-single":{
    "NSPDK": 0.006715110978524674,
    "_step": 0,
    "valid": 1,
    "weight": 20.13298681996364,
    "Filters": 0.6162,
    "SNN/Test": 0.4657546551212669,
    "_runtime": 200.21783232688904,
    "Novelty": 0.901307283436288,
    "Frag/Test": 0.8385771273381819,
    "Scaf/Test": 0.6005005656488397,
    "logP": 0.08727969619569828,
    "IntDiv2": 0.8930816072987596,
    "_timestamp": 1670170562.6357772,
    "unique@1000": 0.976,
    "SA": 0.5420236373480377,
    "QED": 0.05220623578335429,
    "IntDiv": 0.9092495147644044,
    "_wandb.runtime": 199,
    "unique@10000": 0.6961
}
}

data = qm9_data
df = pd.DataFrame.from_dict(data, orient='index')
df = df.applymap(lambda x: round(x, 4))
internal_df = df[['valid', 'unique@10000', 'unique@1000', 'Novelty', 'IntDiv', 'IntDiv2', 'Filters']]
external_df = df[['Frag/Test', 'Scaf/Test', 'SNN/Test',  'FCD/Test', 'NSPDK', 'logP', 'QED', 'SA', 'weight'  ]]

internal_df.to_csv('internal_df.csv', float_format='%.4f')
external_df.to_csv('external_df.csv', float_format='%.4f')